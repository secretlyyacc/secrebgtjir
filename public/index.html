<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    
    <!-- Primary Meta Tags -->
    <title>LyyShop ID - Premium Game Accounts & Digital Streaming Termurah</title>
    <meta name="title" content="LyyShop ID - Premium Game Accounts & Digital Streaming Termurah">
    <meta name="description" content="LyyShop ID: Pusat pembelian akun game premium, Netflix, Spotify, Viu, dan berbagai akun digital lainnya. Proses instan, garansi 100%, harga termurah se-Indonesia!">
    <meta name="keywords" content="akun game, beli akun game, akun genshin impact, akun mobile legends, akun valorant, akun steam, akun netflix premium, akun spotify premium, akun viu, top up game, voucher game, akun discord nitro, akun youtube premium, trial netflix, trial spotify">
    <meta name="author" content="LyyTechID">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/public/img/logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/public/img/logo.png">
    <link rel="apple-touch-icon" href="/public/img/logo.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Animation Library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        :root {
            --primary-60: #0a2647;
            --primary-30: #2563eb;
            --primary-10: #38bdf8;
            --accent-gold: #fbbf24;
            --accent-orange: #f97316;
            --text-light: #f8fafc;
            --text-dark: #1e293b;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(56, 189, 248, 0.2);
            --safe-area-top: env(safe-area-inset-top);
            --safe-area-bottom: env(safe-area-inset-bottom);
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }

        body {
            background: linear-gradient(135deg, #0a2647 0%, #1e3a8a 50%, #2563eb 100%);
            min-height: 100vh;
            color: var(--text-light);
            overflow-x: hidden;
            position: relative;
            padding-top: var(--safe-area-top);
            padding-bottom: var(--safe-area-bottom);
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 50%, rgba(56, 189, 248, 0.15) 0%, transparent 60%);
            pointer-events: none;
            z-index: -1;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-10), var(--primary-30));
            border-radius: 10px;
            border: 2px solid transparent;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--primary-30), var(--primary-10));
        }

        /* Navbar */
        .navbar {
            background: rgba(10, 38, 71, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .navbar.scrolled {
            background: rgba(10, 38, 71, 0.95);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .nav-link {
            position: relative;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-10), var(--accent-gold));
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        /* Banner */
        .banner-container {
            position: relative;
            width: 100%;
            height: min(450px, 55vh);
            overflow: hidden;
            border-radius: clamp(20px, 4vw, 40px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .banner-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.7s ease;
        }

        .banner-container:hover .banner-image {
            transform: scale(1.05);
        }

        .banner-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, rgba(10, 38, 71, 0.6) 0%, transparent 50%, rgba(10, 38, 71, 0.6) 100%);
        }

        /* Product Card */
        .product-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: clamp(20px, 3vw, 28px);
            padding: clamp(20px, 3vw, 28px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 30px -15px rgba(0, 0, 0, 0.3);
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(56, 189, 248, 0.2), transparent);
            transition: left 0.6s ease;
            pointer-events: none;
        }

        .product-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary-10);
            box-shadow: 0 30px 60px -15px rgba(56, 189, 248, 0.3);
        }

        .product-card:hover::before {
            left: 100%;
        }

        .product-image-container {
            width: 100%;
            aspect-ratio: 1/1;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.2), rgba(56, 189, 248, 0.3));
            border-radius: clamp(16px, 2vw, 24px);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            overflow: hidden;
            border: 2px solid rgba(56, 189, 248, 0.2);
            transition: all 0.3s ease;
        }

        .product-card:hover .product-image-container {
            border-color: var(--primary-10);
            transform: scale(1.02);
        }

        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .product-card:hover .product-image {
            transform: scale(1.1);
        }

        .product-icon-fallback {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            color: var(--primary-10);
        }

        .product-title {
            font-size: clamp(1.3rem, 4vw, 1.6rem);
            font-weight: 700;
            color: white;
            margin-bottom: 10px;
            line-height: 1.3;
        }

        .product-price {
            font-size: clamp(1.6rem, 5vw, 2.1rem);
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary-10), var(--accent-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }

        .product-stock {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            background: rgba(56, 189, 248, 0.1);
            border: 1px solid var(--primary-10);
            border-radius: 40px;
            font-size: 0.9rem;
            color: var(--primary-10);
            margin-bottom: 20px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-30), var(--primary-10));
            color: white;
            font-weight: 600;
            padding: 16px 32px;
            border-radius: 16px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 1rem;
            width: 100%;
            box-shadow: 0 10px 20px -10px rgba(56, 189, 248, 0.4);
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 20px 30px -10px rgba(56, 189, 248, 0.5);
        }

        .btn-primary::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .btn-primary:hover::after {
            left: 100%;
        }

        .btn-secondary {
            background: transparent;
            color: white;
            font-weight: 600;
            padding: 14px 28px;
            border-radius: 14px;
            border: 2px solid var(--primary-10);
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 1rem;
        }

        .btn-secondary:hover {
            background: var(--primary-10);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px -5px rgba(56, 189, 248, 0.4);
        }

        /* Stat Cards */
        .stat-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 28px;
            padding: clamp(24px, 4vw, 32px);
            text-align: center;
            transition: all 0.3s ease;
            height: 100%;
        }

        .stat-card:hover {
            transform: translateY(-8px);
            border-color: var(--primary-10);
            box-shadow: 0 30px 50px -20px rgba(56, 189, 248, 0.3);
        }

        .stat-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary-30), var(--primary-10));
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            transition: all 0.3s ease;
        }

        .stat-card:hover .stat-icon {
            transform: rotate(5deg) scale(1.1);
            box-shadow: 0 15px 30px rgba(56, 189, 248, 0.4);
        }

        .stat-number {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            font-weight: 800;
            color: var(--primary-10);
            margin-bottom: 8px;
        }

        /* Feature Items */
        .feature-item {
            text-align: center;
            padding: 24px;
            border-radius: 24px;
            transition: all 0.3s ease;
            height: 100%;
        }

        .feature-item:hover {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: var(--primary-30);
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            transition: all 0.3s ease;
        }

        .feature-item:hover .feature-icon {
            background: linear-gradient(135deg, var(--primary-30), var(--primary-10));
            transform: scale(1.1) rotate(5deg);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            padding: 20px;
            padding-top: var(--safe-area-top);
            padding-bottom: var(--safe-area-bottom);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(135deg, #0a2647, #1e3a8a);
            border: 1px solid var(--primary-10);
            border-radius: 32px;
            padding: clamp(28px, 5vw, 48px);
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px) scale(0.95);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 50px 100px rgba(0, 0, 0, 0.5);
            -webkit-overflow-scrolling: touch;
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0) scale(1);
        }

        /* Form */
        .form-input, .form-select {
            width: 100%;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(56, 189, 248, 0.2);
            border-radius: 18px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
            -webkit-appearance: none;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary-10);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.2);
        }

        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2338bdf8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 18px center;
            background-size: 20px;
            padding-right: 50px;
        }

        /* Category Pills */
        .category-pill {
            display: inline-block;
            padding: 10px 24px;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 50px;
            color: white;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 6px;
        }

        .category-pill:hover,
        .category-pill.active {
            background: linear-gradient(135deg, var(--primary-30), var(--primary-10));
            border-color: transparent;
            transform: translateY(-3px);
            box-shadow: 0 15px 25px -10px rgba(56, 189, 248, 0.4);
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: calc(30px + var(--safe-area-bottom));
            right: 20px;
            left: 20px;
            margin: 0 auto;
            max-width: 400px;
            padding: 18px 28px;
            border-radius: 20px;
            background: rgba(10, 38, 71, 0.98);
            backdrop-filter: blur(15px);
            border: 1px solid var(--primary-10);
            color: white;
            font-weight: 500;
            z-index: 2000;
            animation: slideInUp 0.3s ease;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        @keyframes slideInUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Footer */
        .footer {
            background: rgba(10, 38, 71, 0.95);
            backdrop-filter: blur(15px);
            border-top: 1px solid var(--glass-border);
            padding: 60px 0 30px;
            margin-top: 80px;
        }

        .footer-link {
            color: rgba(255, 255, 255, 0.6);
            transition: color 0.3s ease;
            font-size: 0.95rem;
            display: inline-block;
            padding: 5px 0;
        }

        .footer-link:hover {
            color: var(--primary-10);
            transform: translateX(5px);
        }

        .social-icon {
            width: 48px;
            height: 48px;
            background: rgba(56, 189, 248, 0.1);
            border: 1px solid var(--primary-10);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            color: white;
            font-size: 1.3rem;
        }

        .social-icon:hover {
            background: var(--primary-10);
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 15px 25px -8px rgba(56, 189, 248, 0.5);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .banner-container {
                height: 200px;
            }
            
            .stat-card {
                padding: 20px;
            }
            
            .stat-icon {
                width: 60px;
                height: 60px;
                margin-bottom: 16px;
            }
            
            .stat-number {
                font-size: 1.5rem;
            }
            
            .feature-icon {
                width: 60px;
                height: 60px;
            }
            
            .modal-content {
                padding: 24px;
            }
        }

        @media (max-width: 640px) {
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .product-card {
                padding: 20px;
            }
            
            .product-price {
                font-size: 1.5rem;
            }
            
            .category-pill {
                padding: 8px 18px;
                font-size: 0.85rem;
            }
        }

        /* Touch Optimizations */
        @media (hover: none) and (pointer: coarse) {
            .product-card:hover,
            .stat-card:hover,
            .btn-primary:hover,
            .category-pill:hover {
                transform: none;
            }
            
            .product-card:active,
            .stat-card:active,
            .btn-primary:active,
            .category-pill:active {
                transform: scale(0.98);
                opacity: 0.9;
            }
        }

        /* Loading Spinner */
        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top-color: var(--primary-10);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Safe Area Support */
        @supports (padding-top: env(safe-area-inset-top)) {
            .navbar {
                padding-top: env(safe-area-inset-top);
            }
            .footer {
                padding-bottom: env(safe-area-inset-bottom);
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar fixed top-0 left-0 right-0 z-50 px-4 sm:px-6 py-3 sm:py-4">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <div class="flex items-center gap-2 sm:gap-4">
                <img src="/public/img/logo.png" alt="LyyShop ID Logo" class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl object-cover border-2 border-[#38bdf8] shadow-lg">
                <div>
                    <span class="text-xl sm:text-2xl font-bold block leading-tight text-white">LyyTech<span class="text-[#38bdf8]">ID</span></span>
                    <span class="text-xs text-gray-300 hidden sm:block">Premium Digital Store</span>
                </div>
            </div>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center gap-6 lg:gap-8">
                <a href="#home" class="nav-link text-white font-medium hover:text-[#38bdf8]">Home</a>
                <a href="#products" class="nav-link text-white font-medium hover:text-[#38bdf8]">Products</a>
                <a href="#categories" class="nav-link text-white font-medium hover:text-[#38bdf8]">Categories</a>
                <a href="#features" class="nav-link text-white font-medium hover:text-[#38bdf8]">Features</a>
            </div>
            
            <!-- Mobile Menu Button -->
            <button id="mobileMenuBtn" class="md:hidden text-white text-2xl p-2 hover:bg-white/10 rounded-xl transition">
                <i class="fas fa-bars"></i>
            </button>
            
            <a href="https://wa.me/6282118028950" target="_blank" class="btn-primary hidden sm:flex items-center gap-2 w-auto px-6 py-3">
                <i class="fab fa-whatsapp text-xl"></i>
                <span class="hidden lg:inline">Contact</span>
            </a>
        </div>
        
        <!-- Mobile Menu Dropdown -->
        <div id="mobileMenu" class="md:hidden hidden mt-4 bg-[#0a2647]/95 rounded-2xl p-4 border border-[#38bdf8]/30 mx-4">
            <a href="#home" class="block py-3 px-4 hover:bg-[#2563eb] rounded-xl transition text-white">Home</a>
            <a href="#products" class="block py-3 px-4 hover:bg-[#2563eb] rounded-xl transition text-white">Products</a>
            <a href="#categories" class="block py-3 px-4 hover:bg-[#2563eb] rounded-xl transition text-white">Categories</a>
            <a href="#features" class="block py-3 px-4 hover:bg-[#2563eb] rounded-xl transition text-white">Features</a>
            <a href="https://wa.me/6282118028950" target="_blank" class="block py-3 px-4 bg-[#2563eb] rounded-xl mt-2 text-center text-white">
                <i class="fab fa-whatsapp mr-2"></i>Contact
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-24 sm:pt-28 pb-12 px-4 container-custom max-w-7xl mx-auto">
        <!-- Banner Section -->
        <section id="home" class="mb-16 sm:mb-20" data-aos="fade-up">
            <div class="banner-container">
                <img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80" 
                     alt="LyyShop ID Banner - Premium Game & Streaming Accounts" 
                     class="banner-image">
                <div class="banner-overlay"></div>
            </div>
            
            <div class="text-center mt-8 sm:mt-12">
                <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 bg-gradient-to-r from-[#38bdf8] via-[#fbbf24] to-[#f97316] bg-clip-text text-transparent">
                    Premium Digital Accounts
                </h1>
                <p class="text-base sm:text-lg md:text-xl text-gray-200 max-w-3xl mx-auto px-4 leading-relaxed">
                    Dapatkan akun game premium & streaming (Netflix, Spotify, Viu, dll) dengan harga termurah, proses instan, dan garansi 100%!
                </p>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-16 sm:mb-20">
            <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
                <div class="stat-icon">
                    <i class="fas fa-users text-2xl sm:text-3xl text-white"></i>
                </div>
                <div class="stat-number">15.2K+</div>
                <div class="text-gray-300 text-sm sm:text-base font-medium">Happy Customers</div>
                <div class="text-xs text-gray-400 mt-2">Trusted since 2023</div>
            </div>
            
            <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
                <div class="stat-icon">
                    <i class="fas fa-gamepad text-2xl sm:text-3xl text-white"></i>
                </div>
                <div class="stat-number">8.7K+</div>
                <div class="text-gray-300 text-sm sm:text-base font-medium">Accounts Sold</div>
                <div class="text-xs text-gray-400 mt-2">Verified accounts</div>
            </div>
            
            <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
                <div class="stat-icon">
                    <i class="fas fa-bolt text-2xl sm:text-3xl text-white"></i>
                </div>
                <div class="stat-number">Instant</div>
                <div class="text-gray-300 text-sm sm:text-base font-medium">Delivery</div>
                <div class="text-xs text-gray-400 mt-2">After payment</div>
            </div>

            <div class="stat-card" data-aos="fade-up" data-aos-delay="400">
                <div class="stat-icon">
                    <i class="fas fa-shield-alt text-2xl sm:text-3xl text-white"></i>
                </div>
                <div class="stat-number">100%</div>
                <div class="text-gray-300 text-sm sm:text-base font-medium">Garansi</div>
                <div class="text-xs text-gray-400 mt-2">Money back guarantee</div>
            </div>
        </section>

        <!-- Categories Section -->
        <section id="categories" class="mb-16 sm:mb-20">
            <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-center mb-10 sm:mb-14" data-aos="fade-up">
                Browse <span class="text-[#38bdf8]">Categories</span>
            </h2>
            
            <div class="flex flex-wrap justify-center gap-2 sm:gap-3 mb-10" data-aos="fade-up">
                <button class="category-pill active" data-category="all">All Products</button>
                <button class="category-pill" data-category="game">üéÆ Games</button>
                <button class="category-pill" data-category="streaming">üì∫ Streaming</button>
                <button class="category-pill" data-category="music">üéµ Music</button>
                <button class="category-pill" data-category="trial">‚è±Ô∏è Trial</button>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="mb-16 sm:mb-20">
            <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-center mb-10 sm:mb-14" data-aos="fade-up">
                Our <span class="text-[#38bdf8]">Premium Products</span>
            </h2>
            
            <!-- Loading State -->
            <div id="loadingContainer" class="flex justify-center items-center py-16 hidden" data-aos="fade-up">
                <div class="spinner"></div>
                <span class="ml-4 text-gray-300 text-lg">Loading products...</span>
            </div>
            
            <!-- Error State -->
            <div id="errorContainer" class="hidden text-center py-16" data-aos="fade-up">
                <i class="fas fa-exclamation-triangle text-5xl text-yellow-500 mb-6"></i>
                <p class="text-gray-300 text-lg mb-6">Failed to load products. Please refresh the page.</p>
                <button onclick="loadProducts()" class="btn-primary w-auto px-10 py-4">
                    <i class="fas fa-sync-alt mr-2"></i>Retry
                </button>
            </div>
            
            <!-- Products Grid -->
            <div id="productContainer" class="products-grid">
                <!-- Products will be loaded here via JavaScript -->
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 mb-16 sm:mb-20">
            <div class="feature-item" data-aos="fade-up" data-aos-delay="100">
                <div class="feature-icon">
                    <i class="fas fa-shield-alt text-2xl sm:text-3xl text-[#38bdf8]"></i>
                </div>
                <h3 class="font-bold text-xl sm:text-2xl mb-3">100% Secure</h3>
                <p class="text-gray-300 text-sm sm:text-base">All accounts are verified and guaranteed original</p>
            </div>
            
            <div class="feature-item" data-aos="fade-up" data-aos-delay="200">
                <div class="feature-icon">
                    <i class="fas fa-bolt text-2xl sm:text-3xl text-[#38bdf8]"></i>
                </div>
                <h3 class="font-bold text-xl sm:text-2xl mb-3">Instant Delivery</h3>
                <p class="text-gray-300 text-sm sm:text-base">Receive account details immediately after payment</p>
            </div>
            
            <div class="feature-item" data-aos="fade-up" data-aos-delay="300">
                <div class="feature-icon">
                    <i class="fas fa-headset text-2xl sm:text-3xl text-[#38bdf8]"></i>
                </div>
                <h3 class="font-bold text-xl sm:text-2xl mb-3">24/7 Support</h3>
                <p class="text-gray-300 text-sm sm:text-base">Our team is always ready to help you anytime</p>
            </div>
            
            <div class="feature-item" data-aos="fade-up" data-aos-delay="400">
                <div class="feature-icon">
                    <i class="fas fa-money-bill-wave text-2xl sm:text-3xl text-[#38bdf8]"></i>
                </div>
                <h3 class="font-bold text-xl sm:text-2xl mb-3">Best Price</h3>
                <p class="text-gray-300 text-sm sm:text-base">Competitive prices with regular promotions</p>
            </div>
        </section>

        <!-- Payment Methods -->
        <section class="mb-16 sm:mb-20">
            <h2 class="text-xl sm:text-2xl font-bold text-center mb-8" data-aos="fade-up">
                Payment Methods
            </h2>
            <div class="flex flex-wrap justify-center gap-4" data-aos="fade-up">
                <div class="bg-white/10 px-6 py-3 rounded-2xl border border-[#38bdf8]/30 backdrop-blur-sm">
                    <i class="fas fa-credit-card text-[#38bdf8] mr-2"></i>
                    <span class="text-white">QRIS</span>
                </div>
                <div class="bg-white/10 px-6 py-3 rounded-2xl border border-[#38bdf8]/30 backdrop-blur-sm">
                    <i class="fas fa-university text-[#38bdf8] mr-2"></i>
                    <span class="text-white">Bank Transfer</span>
                </div>
                <div class="bg-white/10 px-6 py-3 rounded-2xl border border-[#38bdf8]/30 backdrop-blur-sm">
                    <i class="fas fa-wallet text-[#38bdf8] mr-2"></i>
                    <span class="text-white">E-Wallet</span>
                </div>
                <div class="bg-white/10 px-6 py-3 rounded-2xl border border-[#38bdf8]/30 backdrop-blur-sm">
                    <i class="fas fa-mobile-alt text-[#38bdf8] mr-2"></i>
                    <span class="text-white">Pulsa</span>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container-custom max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 sm:gap-12 mb-10">
                <div>
                    <div class="flex items-center gap-4 mb-6">
                        <img src="/public/img/logo.png" alt="LyyShop ID Logo" class="w-12 h-12 rounded-xl border-2 border-[#38bdf8]">
                        <span class="text-2xl font-bold text-white">LyyTech<span class="text-[#38bdf8]">ID</span></span>
                    </div>
                    <p class="text-gray-300 text-sm mb-6 leading-relaxed">
                        Toko digital terpercaya sejak 2023. Menyediakan berbagai akun premium game dan streaming dengan harga termurah dan garansi 100%.
                    </p>
                    <div class="flex gap-4">
                        <a href="https://instagram.com/lyytechid" target="_blank" class="social-icon">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://tiktok.com/@lyytechid" target="_blank" class="social-icon">
                            <i class="fab fa-tiktok"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-discord"></i>
                        </a>
                        <a href="https://wa.me/6282118028950" target="_blank" class="social-icon">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-bold text-xl mb-6 text-white">Quick Links</h4>
                    <ul class="space-y-3">
                        <li><a href="#" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2 text-[#38bdf8]"></i>About Us</a></li>
                        <li><a href="#" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2 text-[#38bdf8]"></i>Terms of Service</a></li>
                        <li><a href="#" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2 text-[#38bdf8]"></i>Privacy Policy</a></li>
                        <li><a href="#" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2 text-[#38bdf8]"></i>FAQ</a></li>
                        <li><a href="#" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2 text-[#38bdf8]"></i>Refund Policy</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold text-xl mb-6 text-white">Categories</h4>
                    <ul class="space-y-3">
                        <li><a href="#" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2 text-[#38bdf8]"></i>Game Accounts</a></li>
                        <li><a href="#" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2 text-[#38bdf8]"></i>Netflix Premium</a></li>
                        <li><a href="#" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2 text-[#38bdf8]"></i>Spotify Premium</a></li>
                        <li><a href="#" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2 text-[#38bdf8]"></i>Viu Premium</a></li>
                        <li><a href="#" class="footer-link"><i class="fas fa-chevron-right text-xs mr-2 text-[#38bdf8]"></i>Free Trial</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold text-xl mb-6 text-white">Contact</h4>
                    <ul class="space-y-4">
                        <li class="flex items-center gap-3">
                            <i class="fas fa-envelope text-[#38bdf8] w-6"></i>
                            <span class="footer-link">support@lyytech.id</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i class="fas fa-phone text-[#38bdf8] w-6"></i>
                            <span class="footer-link">+62 821 1802 8950</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i class="fas fa-map-marker-alt text-[#38bdf8] w-6"></i>
                            <span class="footer-link">Jakarta, Indonesia</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i class="fas fa-clock text-[#38bdf8] w-6"></i>
                            <span class="footer-link">24/7 Online</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-[#38bdf8]/20 pt-8 text-center">
                <p class="text-gray-300 text-sm">&copy; 2024 LyyShop ID. All rights reserved.</p>
                <p class="text-gray-400 text-xs mt-3">Made with <i class="fas fa-heart text-[#38bdf8]"></i> for Indonesian gamers</p>
            </div>
        </div>
    </footer>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="modal-overlay">
        <div class="modal-content relative">
            <span class="modal-close absolute top-5 right-5 text-3xl text-gray-400 hover:text-white cursor-pointer z-10">&times;</span>
            
            <h2 class="text-2xl sm:text-3xl font-bold mb-2">Complete Your Order</h2>
            <p class="text-gray-300 text-sm mb-6">Fill in your details to proceed</p>
            
            <div id="selectedProductInfo" class="bg-[#1e3a8a] rounded-xl p-5 mb-6 border border-[#38bdf8]/30">
                <p id="selectedProductName" class="text-lg font-semibold text-[#38bdf8]"></p>
                <p id="selectedProductPrice" class="text-2xl font-bold mt-2 text-white"></p>
            </div>
            
            <form id="checkoutForm" class="space-y-5">
                <div class="form-group">
                    <label class="form-label block text-sm text-gray-300 mb-2">Email Address</label>
                    <input 
                        type="email"
                        id="customerEmail"
                        placeholder="your@email.com"
                        required
                        class="form-input"
                    >
                    <p class="text-xs text-gray-400 mt-2">Account details will be sent here</p>
                </div>
                
                <div class="form-group">
                    <label class="form-label block text-sm text-gray-300 mb-2">Payment Method</label>
                    <select id="paymentMethod" class="form-select" required>
                        <option value="">Select payment method</option>
                    </select>
                </div>
                
                <button type="submit" id="payButton" class="btn-primary mt-6">
                    <i class="fas fa-shopping-cart mr-2"></i>
                    Continue to Payment
                </button>
            </form>
            
            <div id="paymentInfo" class="payment-info-box bg-[#1e3a8a] rounded-xl p-5 mt-6 border border-[#38bdf8]/30 hidden">
                <h3 class="font-bold text-lg mb-3 text-white">Payment Details</h3>
                <div id="paymentDetails" class="space-y-2 text-sm"></div>
                <div class="flex flex-col sm:flex-row gap-3 mt-5">
                    <a href="#" id="paymentLink" target="_blank" class="flex-1 btn-primary text-center text-sm py-3">
                        Pay Now
                    </a>
                    <button id="checkStatus" class="flex-1 btn-secondary text-sm py-3">
                        Check Status
                    </button>
                </div>
            </div>
            
            <div class="text-center text-xs text-gray-400 mt-5">
                <i class="fas fa-lock mr-1 text-[#38bdf8]"></i> Secure payment
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal-overlay">
        <div class="modal-content text-center">
            <div class="text-6xl sm:text-7xl mb-6 animate-bounce">üéâ</div>
            <h2 class="text-2xl sm:text-3xl font-bold mb-4">Payment Successful!</h2>
            <p class="mb-3 text-gray-300">Your account details have been sent to:</p>
            <p id="successEmail" class="text-[#38bdf8] font-bold text-lg mb-6 break-all"></p>
            
            <div class="bg-[#1e3a8a] p-5 rounded-xl mb-6 border border-[#38bdf8]/30">
                <p class="text-sm text-gray-300 mb-3">Check your email inbox (or spam folder)</p>
                <i class="fas fa-envelope-open-text text-4xl text-[#38bdf8]"></i>
            </div>
            
            <div class="flex flex-col sm:flex-row gap-3">
                <button onclick="closeSuccessModal()" class="flex-1 btn-primary">
                    Got It
                </button>
                <a href="#products" onclick="closeSuccessModal()" class="flex-1 btn-secondary">
                    Shop Again
                </a>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            once: true,
            offset: 50
        });

        let currentProduct = null;
        let currentOrderId = null;
        let statusChecker = null;
        let allProducts = [];

        // Mobile menu toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', () => {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        });

        document.querySelectorAll('#mobileMenu a').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('mobileMenu').classList.add('hidden');
            });
        });

        window.addEventListener('scroll', () => {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        document.querySelectorAll('.category-pill').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.category-pill').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                filterProducts(this.dataset.category);
            });
        });

        function filterProducts(category) {
            if (category === 'all') {
                displayProducts(allProducts);
            } else {
                const filtered = allProducts.filter(p => p.category === category);
                displayProducts(filtered);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadProducts();
            loadPaymentMethods();
        });

        async function loadProducts() {
            try {
                showLoading(true);
                document.getElementById('errorContainer').classList.add('hidden');
                
                const res = await fetch('/api/roles');
                if (!res.ok) throw new Error('Failed to load products');
                
                const data = await res.json();
                allProducts = data.roles || [];
                
                allProducts = allProducts.map(product => {
                    let category = 'game';
                    const name = (product.name || '').toLowerCase();
                    const desc = (product.description || '').toLowerCase();
                    
                    if (name.includes('netflix') || name.includes('viu') || desc.includes('streaming') || name.includes('disney') || name.includes('hbo') || name.includes('prime')) {
                        category = 'streaming';
                    } else if (name.includes('spotify') || name.includes('music') || name.includes('joox') || name.includes('langit musik') || name.includes('youtube music')) {
                        category = 'music';
                    } else if (name.includes('trial') || name.includes('coba') || desc.includes('trial') || name.includes('free')) {
                        category = 'trial';
                    }
                    
                    return { ...product, category };
                });
                
                displayProducts(allProducts);
                updateProductSchema(allProducts);
                
            } catch (error) {
                console.error('Error loading products:', error);
                document.getElementById('errorContainer').classList.remove('hidden');
                showToast('Failed to load products', 'error');
            } finally {
                showLoading(false);
            }
        }

        function updateProductSchema(products) {
            const productSchema = {
                "@context": "https://schema.org",
                "@type": "ItemList",
                "itemListElement": products.slice(0, 10).map((product, index) => ({
                    "@type": "Product",
                    "position": index + 1,
                    "name": product.name,
                    "description": product.description || product.name,
                    "image": product.image || '',
                    "offers": {
                        "@type": "Offer",
                        "price": product.price,
                        "priceCurrency": "IDR",
                        "availability": parseInt(product.stock) > 0 ? "https://schema.org/InStock" : "https://schema.org/OutOfStock"
                    }
                }))
            };
            
            document.getElementById('productSchema').textContent = JSON.stringify(productSchema);
        }

        function handleImageError(img) {
            const container = img.parentElement;
            img.style.display = 'none';
            
            const fallbackIcon = document.createElement('i');
            fallbackIcon.className = 'fas fa-crown product-icon-fallback';
            container.appendChild(fallbackIcon);
            
            container.classList.add('img-error');
        }

        function displayProducts(products) {
            const container = document.getElementById('productContainer');
            if (!products || products.length === 0) {
                container.innerHTML = '<p class="text-center text-gray-300 col-span-full py-16 text-lg">No products available</p>';
                return;
            }

            container.innerHTML = products.map(product => {
                const price = Number(product.price) || 0;
                const stock = Number(product.stock) || 0;
                const isOutOfStock = stock <= 0;
                const imageUrl = product.image || '';
                const category = product.category || 'game';

                const safeName = escapeHtml(product.name);
                const safeDescription = escapeHtml(product.description || 'Premium account with full features');

                return `
                    <div class="product-card" data-aos="fade-up">
                        <div class="product-image-container" id="img-container-${product.id}">
                            ${imageUrl ? 
                                `<img src="${imageUrl}" 
                                     alt="${safeName}" 
                                     class="product-image"
                                     loading="lazy"
                                     onerror="handleImageError(this)"
                                     data-product-id="${product.id}">` 
                                : `<i class="fas fa-crown product-icon-fallback"></i>`
                            }
                        </div>
                        <h3 class="product-title">${safeName}</h3>
                        <div class="product-price">Rp ${price.toLocaleString('id-ID')}</div>
                        <div class="product-stock">
                            <i class="fas fa-box"></i>
                            <span>Stock: ${stock}</span>
                        </div>
                        <p class="product-description text-gray-400 text-sm mb-5">${safeDescription}</p>
                        <button 
                            onclick='openCheckout(${JSON.stringify({
                                id: product.id,
                                name: product.name,
                                price: price,
                                category: category
                            }).replace(/'/g, "&apos;")})'
                            class="btn-primary ${isOutOfStock ? 'opacity-50 cursor-not-allowed' : ''}"
                            ${isOutOfStock ? 'disabled' : ''}>
                            <i class="fas ${getCategoryIcon(category)}"></i>
                            ${isOutOfStock ? 'Out of Stock' : 'Buy Now'}
                        </button>
                    </div>
                `;
            }).join('');
        }

        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function getCategoryIcon(category) {
            const icons = {
                game: 'fa-gamepad',
                streaming: 'fa-film',
                music: 'fa-music',
                trial: 'fa-hourglass-half'
            };
            return icons[category] || 'fa-crown';
        }

        async function loadPaymentMethods() {
            try {
                let methods = [];
                
                try {
                    const res = await fetch('/api/payment/methods');
                    if (res.ok) {
                        const data = await res.json();
                        methods = data.methods || [];
                    }
                } catch (e) {
                    console.log('Using default payment methods');
                }
                
                if (methods.length === 0) {
                    methods = [
                        { id: 'qris', name: 'QRIS (All E-Wallet)' },
                        { id: 'bca', name: 'Bank BCA' },
                        { id: 'mandiri', name: 'Bank Mandiri' },
                        { id: 'bri', name: 'Bank BRI' },
                        { id: 'bni', name: 'Bank BNI' },
                        { id: 'ovo', name: 'OVO' },
                        { id: 'gopay', name: 'GoPay' },
                        { id: 'dana', name: 'DANA' },
                        { id: 'linkaja', name: 'LinkAja' },
                        { id: 'pulsa', name: 'Pulsa (Telkomsel/XL)' }
                    ];
                }
                
                const select = document.getElementById('paymentMethod');
                select.innerHTML = '<option value="">Select Payment Method</option>';
                methods.forEach(m => {
                    select.innerHTML += `<option value="${m.id}">${escapeHtml(m.name)}</option>`;
                });
            } catch (error) {
                console.error('Error loading payment methods:', error);
            }
        }

        function openCheckout(product) {
            currentProduct = product;
            document.getElementById('selectedProductName').textContent = product.name;
            document.getElementById('selectedProductPrice').textContent = `Rp ${product.price.toLocaleString('id-ID')}`;
            document.getElementById('checkoutModal').classList.add('active');
            document.getElementById('paymentInfo').classList.add('hidden');
            document.getElementById('customerEmail').value = '';
            document.body.style.overflow = 'hidden';
        }

        function closeCheckoutModal() {
            document.getElementById('checkoutModal').classList.remove('active');
            document.body.style.overflow = '';
            if (statusChecker) clearInterval(statusChecker);
        }

        document.getElementById('checkoutForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const email = document.getElementById('customerEmail').value.trim();
            const paymentMethod = document.getElementById('paymentMethod').value;

            if (!email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
                showToast('Please enter a valid email address', 'error');
                return;
            }

            if (!paymentMethod) {
                showToast('Please select payment method', 'error');
                return;
            }

            const payButton = document.getElementById('payButton');
            payButton.disabled = true;
            payButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Processing...';

            try {
                const res = await fetch('/api/payment/create', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        username: email,
                        roleId: currentProduct.id,
                        paymentMethod
                    })
                });

                const data = await res.json();

                if (data.success) {
                    currentOrderId = data.orderId;
                    
                    document.getElementById('paymentInfo').classList.remove('hidden');
                    
                    const paymentLink = data.redirectUrl || data.payment?.url;
                    if (paymentLink) {
                        document.getElementById('paymentLink').href = paymentLink;
                        document.getElementById('paymentLink').style.display = 'flex';
                    } else {
                        document.getElementById('paymentLink').style.display = 'none';
                    }

                    const paymentDetails = document.getElementById('paymentDetails');
                    paymentDetails.innerHTML = `
                        <div class="payment-detail-item flex justify-between py-2 border-b border-white/10">
                            <span class="payment-detail-label text-gray-400">Order ID</span>
                            <span class="payment-detail-value text-white font-mono">${data.orderId}</span>
                        </div>
                        <div class="payment-detail-item flex justify-between py-2 border-b border-white/10">
                            <span class="payment-detail-label text-gray-400">Total</span>
                            <span class="payment-detail-value text-white">Rp ${(data.amount || currentProduct.price).toLocaleString('id-ID')}</span>
                        </div>
                        <div class="payment-detail-item flex justify-between py-2 border-b border-white/10">
                            <span class="payment-detail-label text-gray-400">Method</span>
                            <span class="payment-detail-value text-white">${getPaymentMethodName(paymentMethod)}</span>
                        </div>
                        <div class="payment-detail-item flex justify-between py-2">
                            <span class="payment-detail-label text-gray-400">Status</span>
                            <span class="payment-detail-value text-yellow-400">Waiting Payment</span>
                        </div>
                    `;

                    startStatusCheck(data.orderId);
                    showToast('Payment created successfully', 'success');
                } else {
                    showToast(data.error || 'Failed to create payment', 'error');
                }
            } catch (error) {
                showToast('An error occurred', 'error');
                console.error('Payment error:', error);
            } finally {
                payButton.disabled = false;
                payButton.innerHTML = '<i class="fas fa-shopping-cart mr-2"></i> Continue to Payment';
            }
        });

        function getPaymentMethodName(methodId) {
            const methods = {
                'qris': 'QRIS',
                'bca': 'Bank BCA',
                'mandiri': 'Bank Mandiri',
                'bri': 'Bank BRI',
                'bni': 'Bank BNI',
                'ovo': 'OVO',
                'gopay': 'GoPay',
                'dana': 'DANA',
                'linkaja': 'LinkAja',
                'pulsa': 'Pulsa'
            };
            return methods[methodId] || methodId;
        }

        function startStatusCheck(orderId) {
            if (statusChecker) clearInterval(statusChecker);

            statusChecker = setInterval(async () => {
                try {
                    const res = await fetch('/api/order/' + orderId);
                    const data = await res.json();

                    if (data.order?.status === 'completed') {
                        clearInterval(statusChecker);
                        
                        closeCheckoutModal();
                        
                        document.getElementById('successEmail').textContent = document.getElementById('customerEmail').value;
                        document.getElementById('successModal').classList.add('active');
                        
                        showToast('Payment successful!', 'success');
                    }
                } catch (error) {
                    console.error('Status check error:', error);
                }
            }, 5000);
        }

        document.getElementById('checkStatus').addEventListener('click', async () => {
            if (!currentOrderId) return;
            
            try {
                const res = await fetch('/api/order/' + currentOrderId);
                const data = await res.json();

                if (data.order?.status === 'completed') {
                    clearInterval(statusChecker);
                    closeCheckoutModal();
                    document.getElementById('successEmail').textContent = document.getElementById('customerEmail').value;
                    document.getElementById('successModal').classList.add('active');
                } else {
                    showToast(`Status: ${data.order?.status || 'PENDING'}`, 'info');
                }
            } catch (error) {
                showToast('Failed to check status', 'error');
            }
        });

        function closeSuccessModal() {
            document.getElementById('successModal').classList.remove('active');
            document.body.style.overflow = '';
            loadProducts();
        }

        function showLoading(show) {
            const loadingContainer = document.getElementById('loadingContainer');
            if (show) {
                loadingContainer.classList.remove('hidden');
            } else {
                loadingContainer.classList.add('hidden');
            }
        }

        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${
                type === 'error' ? 'bg-red-600/90 border-red-500' : 
                type === 'success' ? 'bg-green-600/90 border-green-500' : 
                'bg-blue-600/90 border-blue-500'
            }`;
            toast.classList.remove('hidden');

            setTimeout(() => {
                toast.classList.add('hidden');
            }, 3000);
        }

        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    overlay.classList.remove('active');
                    document.body.style.overflow = '';
                    if (overlay.id === 'checkoutModal' && statusChecker) {
                        clearInterval(statusChecker);
                    }
                }
            });
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal-overlay.active').forEach(modal => {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                    if (modal.id === 'checkoutModal' && statusChecker) {
                        clearInterval(statusChecker);
                    }
                });
            }
        });

        window.handleImageError = handleImageError;
    </script>
</body>
</html>